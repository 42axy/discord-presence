<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Discord Presence</title>

<style>
    body {
        margin: 0;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: #1e1f22;
        font-family: "Inter", sans-serif;
        color: white;
    }

    .card {
        width: 360px;
        padding: 20px;
        display: flex;
        border-radius: 18px;
        background: #2f3136;
        box-shadow: 0 6px 26px rgba(0,0,0,0.4);
        border: 1px solid rgba(255,255,255,0.06);
    }

    .avatar {
        width: 84px;
        height: 84px;
        border-radius: 50%;
        border: 4px solid rgba(255,255,255,0.1);
    }

    .left {
        margin-right: 18px;
    }

    .username {
        font-size: 22px;
        font-weight: 600;
    }

    .status-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        display: inline-block;
        margin-left: 10px;
        animation: pulse 1.5s infinite ease-in-out;
    }

    @keyframes pulse {
        0% { transform: scale(1); opacity: .7; }
        50% { transform: scale(1.3); opacity: 1; }
        100% { transform: scale(1); opacity: .7; }
    }

    .activity {
        margin-top: 6px;
        font-size: 15px;
        color: #b9bbbe;
        line-height: 1.4em;
    }
</style>
</head>
<body>

<div class="card">
    <div class="left">
        <img id="avatar" class="avatar">
    </div>

    <div class="right">
        <div class="username" id="username">Loading...</div>
        <span id="status-dot" class="status-dot"></span>
        <div class="activity" id="activity">Fetching presence...</div>
    </div>
</div>

<script>
const USER_ID = "977887737912901642";  // <<<<<<<<<<<<<<<<<<<<<<<< REPLACE THIS

function setStatusColor(status) {
    const dot = document.getElementById("status-dot");
    const colors = {
        online: "#3ba55d",
        idle: "#faa61a",
        dnd: "#ed4245",
        offline: "#747f8d"
    };
    dot.style.background = colors[status] || "#747f8d";
}

async function updatePresence() {
    try {
        const res = await fetch(`https://api.lanyard.rest/v1/users/${USER_ID}`);
        const data = await res.json();
        if (!data.success) return;

        const d = data.data;

        // Avatar
        document.getElementById("avatar").src =
            `https://cdn.discordapp.com/avatars/${USER_ID}/${d.discord_user.avatar}.png?size=256`;

        // Username
        document.getElementById("username").textContent =
            d.discord_user.username;

        // Status indicator
        setStatusColor(d.discord_status);

        // Activity
        const act = d.activities.find(a => a.type === 0); // main activity
        let activityText = "Not doing anything right now.";

        if (act) {
            activityText = `<strong>${act.name}</strong>`;
            if (act.state) activityText += `<br>${act.state}`;
            if (act.details) activityText += `<br>${act.details}`;
        } else if (d.activities[0]?.type === 4) {
            // Custom status
            activityText = d.activities[0].state || "No custom status.";
        }

        document.getElementById("activity").innerHTML = activityText;

    } catch (err) {
        document.getElementById("activity").textContent = "Error loading presence.";
    }
}

setInterval(updatePresence, 3000);
updatePresence();
</script>

</body>
</html>
